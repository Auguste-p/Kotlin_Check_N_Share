<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/checknshare/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/checknshare/MainActivity.kt" />
              <option name="originalContent" value="package com.example.checknshare&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.view.Menu&#10;import android.view.MenuItem&#10;import com.google.android.material.bottomnavigation.BottomNavigationView&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.navigation.findNavController&#10;import androidx.navigation.ui.AppBarConfiguration&#10;import androidx.navigation.ui.setupActionBarWithNavController&#10;import androidx.navigation.ui.setupWithNavController&#10;import com.example.checknshare.databinding.ActivityMainBinding&#10;&#10;class MainActivity : AppCompatActivity() {&#10;&#10;    private lateinit var binding: ActivityMainBinding&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Vérifier si l'utilisateur est connecté&#10;        if (!isUserLoggedIn()) {&#10;            redirectToLogin()&#10;            return&#10;        }&#10;&#10;        binding = ActivityMainBinding.inflate(layoutInflater)&#10;        setContentView(binding.root)&#10;&#10;        val navView: BottomNavigationView = binding.navView&#10;&#10;        val navController = findNavController(R.id.nav_host_fragment_activity_main)&#10;        // Passing each menu ID as a set of Ids because each&#10;        // menu should be considered as top level destinations.&#10;        val appBarConfiguration = AppBarConfiguration(&#10;            setOf(&#10;                R.id.navigation_home, R.id.navigation_map, R.id.navigation_notifications, R.id.navigation_profile&#10;            )&#10;        )&#10;        setupActionBarWithNavController(navController, appBarConfiguration)&#10;        navView.setupWithNavController(navController)&#10;&#10;        // Désactiver la mise à jour automatique du titre par la navigation&#10;        navController.addOnDestinationChangedListener { _, _, _ -&gt;&#10;            supportActionBar?.title = &quot;Check'N'Share&quot;&#10;        }&#10;    }&#10;&#10;    override fun onCreateOptionsMenu(menu: Menu?): Boolean {&#10;        menuInflater.inflate(R.menu.main_menu, menu)&#10;        return true&#10;    }&#10;&#10;    override fun onOptionsItemSelected(item: MenuItem): Boolean {&#10;        return when (item.itemId) {&#10;            R.id.action_logout -&gt; {&#10;                logout()&#10;                true&#10;            }&#10;            else -&gt; super.onOptionsItemSelected(item)&#10;        }&#10;    }&#10;&#10;    private fun isUserLoggedIn(): Boolean {&#10;        val sharedPreferences = getSharedPreferences(&quot;UserSession&quot;, MODE_PRIVATE)&#10;        return sharedPreferences.getBoolean(&quot;isLoggedIn&quot;, false)&#10;    }&#10;&#10;    private fun redirectToLogin() {&#10;        val intent = Intent(this, LoginActivity::class.java)&#10;        startActivity(intent)&#10;        finish()&#10;    }&#10;&#10;    private fun logout() {&#10;        // Effacer la session&#10;        val sharedPreferences = getSharedPreferences(&quot;UserSession&quot;, MODE_PRIVATE)&#10;        val editor = sharedPreferences.edit()&#10;        editor.clear()&#10;        editor.apply()&#10;&#10;        // Retourner à l'écran de connexion&#10;        redirectToLogin()&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.checknshare&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import android.view.Menu&#10;import android.view.MenuItem&#10;import com.google.android.material.bottomnavigation.BottomNavigationView&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.navigation.findNavController&#10;import androidx.navigation.ui.AppBarConfiguration&#10;import androidx.navigation.ui.setupActionBarWithNavController&#10;import androidx.navigation.ui.setupWithNavController&#10;import com.example.checknshare.databinding.ActivityMainBinding&#10;&#10;class MainActivity : AppCompatActivity() {&#10;&#10;    private lateinit var binding: ActivityMainBinding&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Vérifier si l'utilisateur est connecté&#10;        if (!isUserLoggedIn()) {&#10;            redirectToLogin()&#10;            return&#10;        }&#10;&#10;        binding = ActivityMainBinding.inflate(layoutInflater)&#10;        setContentView(binding.root)&#10;&#10;        val navView: BottomNavigationView = binding.navView&#10;&#10;        val navController = findNavController(R.id.nav_host_fragment_activity_main)&#10;        // Passing each menu ID as a set of Ids because each&#10;        // menu should be considered as top level destinations.&#10;        val appBarConfiguration = AppBarConfiguration(&#10;            setOf(&#10;                R.id.navigation_home, R.id.navigation_map, R.id.navigation_notifications, R.id.navigation_profile&#10;            )&#10;        )&#10;        setupActionBarWithNavController(navController, appBarConfiguration)&#10;        navView.setupWithNavController(navController)&#10;&#10;        // Désactiver la mise à jour automatique du titre par la navigation&#10;        navController.addOnDestinationChangedListener { _, _, _ -&gt;&#10;            supportActionBar?.title = &quot;Check'N'Share&quot;&#10;        }&#10;    }&#10;&#10;    override fun onCreateOptionsMenu(menu: Menu?): Boolean {&#10;        menuInflater.inflate(R.menu.main_menu, menu)&#10;        return true&#10;    }&#10;&#10;    override fun onOptionsItemSelected(item: MenuItem): Boolean {&#10;        return when (item.itemId) {&#10;            R.id.action_logout -&gt; {&#10;                logout()&#10;                true&#10;            }&#10;            else -&gt; super.onOptionsItemSelected(item)&#10;        }&#10;    }&#10;&#10;    private fun isUserLoggedIn(): Boolean {&#10;        val sharedPreferences = getSharedPreferences(&quot;UserSession&quot;, MODE_PRIVATE)&#10;        return sharedPreferences.getBoolean(&quot;isLoggedIn&quot;, false)&#10;    }&#10;&#10;    private fun redirectToLogin() {&#10;        val intent = Intent(this, LoginActivity::class.java)&#10;        startActivity(intent)&#10;        finish()&#10;    }&#10;&#10;    private fun logout() {&#10;        // Effacer la session&#10;        val sharedPreferences = getSharedPreferences(&quot;UserSession&quot;, MODE_PRIVATE)&#10;        val editor = sharedPreferences.edit()&#10;        editor.clear()&#10;        editor.apply()&#10;&#10;        // Retourner à l'écran de connexion&#10;        redirectToLogin()&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/gradle/wrapper/gradle-wrapper.properties">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/gradle/wrapper/gradle-wrapper.properties" />
              <option name="originalContent" value="#Tue Oct 07 16:26:02 CEST 2025&#10;distributionBase=GRADLE_USER_HOME&#10;distributionPath=wrapper/dists&#10;distributionUrl=https\://services.gradle.org/distributions/gradle-8.7-bin.zip&#10;zipStoreBase=GRADLE_USER_HOME&#10;zipStorePath=wrapper/dists&#10;" />
              <option name="updatedContent" value="#Tue Oct 07 16:26:02 CEST 2025&#10;distributionBase=GRADLE_USER_HOME&#10;distributionPath=wrapper/dists&#10;distributionUrl=https\://services.gradle.org/distributions/gradle-8.7-bin.zip&#10;zipStoreBase=GRADLE_USER_HOME&#10;zipStorePath=wrapper/dists&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>